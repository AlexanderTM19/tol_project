{% extends 'core/base.html' %}

{% block title %}Reservas{% endblock %}
{% block meta_description %}Tu servicio de taxi rápido, seguro y confiable.{% endblock %}
{% block meta_keywords %}taxi, aeropuerto, reservas, transporte, seguro{% endblock %}
{% block content %}

<section id="faq" class="faq section" style="margin-top: 150px;">

    <div class="container section-title" data-aos="fade-up">
        <span class="subtitle">Tarifas</span>
        <h2>Consulta nuestros precios</h2>
        <p>Te mostramos nuestras tarifas en la Región Metropolitana de Chile</p>
    </div>
    <div class="container" data-aos="fade-up" data-aos-delay="100">

        <div class="row">

            {% for tarifa in Tarifas %}

            <div class="col-lg-4">
                <div class="faq-item" data-aos="fade-up" data-aos-delay="150">
                    <div class="faq-header">
                        <h4>{{ tarifa.Nombre_Comuna }} : ${{ tarifa.Valor | floatformat:0 }}.</h4>
                        <div class="faq-toggle">
                            <i class="bi bi-plus"></i>
                            <i class="bi bi-dash"></i>
                        </div>
                    </div>
                    <div class="faq-content">
                        <div class="content-inner">
                            <p>${{ tarifa.Valor | floatformat:0 }}.</p>
                        </div>
                    </div>
                </div>
            </div>

            {% endfor %}



            <div class="col-lg-4">
                <div class="faq-item faq-active" data-aos="fade-up" data-aos-delay="150">
                    <div class="faq-header">
                        <h4>Las Condes</h4>
                        <div class="faq-toggle">
                            <i class="bi bi-plus"></i>
                            <i class="bi bi-dash"></i>
                        </div>
                    </div>
                    <div class="faq-content">
                        <div class="content-inner">
                            <p>$60.000.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4">
                <div class="faq-item faq-active" data-aos="fade-up" data-aos-delay="150">
                    <div class="faq-header">
                        <h4>Estación Central</h4>
                        <div class="faq-toggle">
                            <i class="bi bi-plus"></i>
                            <i class="bi bi-dash"></i>
                        </div>
                    </div>
                    <div class="faq-content">
                        <div class="content-inner">
                            <p>$30.000.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4">
                <div class="faq-item faq-active" data-aos="fade-up" data-aos-delay="150">
                    <div class="faq-header">
                        <h4>Macúl</h4>
                        <div class="faq-toggle">
                            <i class="bi bi-plus"></i>
                            <i class="bi bi-dash"></i>
                        </div>
                    </div>
                    <div class="faq-content">
                        <div class="content-inner">
                            <p>$70.000.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4">
                <div class="faq-item faq-active" data-aos="fade-up" data-aos-delay="150">
                    <div class="faq-header">
                        <h4>Pudahuél</h4>
                        <div class="faq-toggle">
                            <i class="bi bi-plus"></i>
                            <i class="bi bi-dash"></i>
                        </div>
                    </div>
                    <div class="faq-content">
                        <div class="content-inner">
                            <p>$45.000.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4">
                <div class="faq-item faq-active" data-aos="fade-up" data-aos-delay="150">
                    <div class="faq-header">
                        <h4>Puente Alto</h4>
                        <div class="faq-toggle">
                            <i class="bi bi-plus"></i>
                            <i class="bi bi-dash"></i>
                        </div>
                    </div>
                    <div class="faq-content">
                        <div class="content-inner">
                            <p>$87.000.</p>
                        </div>
                    </div>
                </div>
            </div>

        </div>

    </div>

</section>{% endblock %}

{% block extra_js %}
<script>
    // Se asegura de que el script corre solo cuando el DOM (HTML) está completamente cargado.
    document.addEventListener('DOMContentLoaded', () => {

        
        // Seleccionamos la sección que envuelve a todas las tarifas; existe desde el inicio.
        const faqContainer = document.querySelector('#faq');


        if (faqContainer) {

            // Usamos delegación de eventos. El escuchador está en el padre estático,
            // pero reacciona al clic de cualquier elemento dinámico con la clase .faq-header.
            faqContainer.addEventListener('click', (event) => {

                // Buscamos si el clic ocurrió dentro de un elemento con la clase .faq-header
                const header = event.target.closest('.faq-header');

                if (header) {
                    // Prevenimos cualquier acción predeterminada
                    event.preventDefault();

                    // Obtenemos el contenedor completo del ítem de la tarifa (el padre .faq-item)
                    const faqItem = header.closest('.faq-item');

                    if (faqItem) {
                        // Alternamos la clase 'faq-active'. Esto hará que el CSS muestre u oculte el contenido.
                        faqItem.classList.toggle('faq-active');
                    }
                }
            });
        }
    });
</script>
{% endblock %}
